#!/bin/sh
# Simple local pre-commit hook to run tests before committing.
# To enable locally: git config core.hooksPath .githooks

echo "Running pre-commit checks: lint-staged"
if [ -x "./node_modules/.bin/lint-staged" ]; then
  ./node_modules/.bin/lint-staged
else
  npx lint-staged
fi
RC=$?
if [ $RC -ne 0 ]; then
  echo "pre-commit checks failed. Aborting commit. Fix issues or run 'git commit --no-verify' to bypass."
  exit $RC
fi
exit 0
